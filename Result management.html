

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Enhanced result export features &mdash; PyDSS 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dynamic visualization capabilities" href="Dynamic visualization capabilities.html" />
    <link rel="prev" title="Improved project management" href="Project management.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PyDSS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Sample TOML files.html">Default simulation settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sample TOML files.html#default-visualization-settings">Default visualization settings</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Project management.html">Improved project management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Enhanced result export features</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dynamic visualization capabilities.html">Dynamic visualization capabilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html">Frequency sweep plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html#gis-plot">GIS plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html#histogram-plot">Histogram plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html#voltage-sag-plot">Voltage sag plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html#time-series-plot">Time series plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html#voltage-current-heatmap-plot">Voltage / Current heatmap plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dynamic plots.html#xy-plots">XY plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating custom dynamic plots.html">Development of custom dynamic plots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Extended controls library.html">Extended controls library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="PyDSS controllers.html">Fault controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyDSS controllers.html#pv-controller">PV controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyDSS controllers.html#pv-controller-gen">Pv controller [Gen]</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyDSS controllers.html#socket-controller">Socket controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyDSS controllers.html#storage-controller">Storage controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="PyDSS controllers.html#xfmr-controller">Xfmr controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating custom controls.html">Extending PyDSS controllers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="External interfaces for cosimulation.html">External PyDSS interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html">The socket interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html#the-helics-interface">The HELICS interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html#the-api-interface">The API interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Automated comparison of scenarios.html">Automated scenario comparison</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyDSS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Enhanced result export features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Result management.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="enhanced-result-export-features">
<h1>Enhanced result export features<a class="headerlink" href="#enhanced-result-export-features" title="Permalink to this headline">¶</a></h1>
<p>PyDSS provides users with high level options to export results and variables of interest. Within the Scenario_settings.TOML file there are four settings users are able to change</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Log Results&quot;</span> <span class="o">=</span> <span class="n">true</span>
<span class="s2">&quot;Return Results&quot;</span> <span class="o">=</span> <span class="n">false</span>
<span class="s2">&quot;Export Mode&quot;</span> <span class="o">=</span> <span class="s2">&quot;byClass&quot;</span>
<span class="s2">&quot;Export Style&quot;</span> <span class="o">=</span> <span class="s2">&quot;Single file&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Log Results- [Bool] - Set true if results need to be exported.</p></li>
<li><p>Return Results- [Bool] - Set true if running PyDSS in Cosimulation environment, dssInstance.RunStep() function will return current system states.</p></li>
<li><dl class="simple">
<dt>Export Mode- [Str] - Possible options “byClass” and “byElement”</dt><dd><ul>
<li><p>“byClass” option allows user to export specified variable for each element of a particular class e.g. per unit voltage for all bus or active power losses for each line</p></li>
<li><p>“byElement” option allows user to export specific results results for each element seperately.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Export Style- [Str] - possible options “Single_file” and “Separate_files”</dt><dd><ul>
<li><p>“Single_file” merges results to a single file</p></li>
<li><p>“Separate_files” alternately exports results to seperate files.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The results to be exported need to defined within the ‘ExportLists.json’ file for each scenario. the defination file should contain three tables</p>
<ul class="simple">
<li><p>ExportMode-byClass (Needed only if exporting results ‘byClass’)</p></li>
<li><p>ExportMode-byElement (Needed only if exporting results ‘byElement’)</p></li>
<li><p>Helics-Subcriptions (Needed only if interfacing with HELICS in a co-simulation environment)</p></li>
</ul>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">A example of export definations for ExportMode-byClass</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Class</p></th>
<th class="head"><p>Publish</p></th>
<th class="head"><p>Property</p></th>
<th class="head"><p>Property2</p></th>
<th class="head"><p>Property3</p></th>
<th class="head"><p>Property4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Loads</p></td>
<td><p>TRUE</p></td>
<td><p>Powers</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Loads</p></td>
<td><p>FALSE</p></td>
<td><p>VoltagesMagAng</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PVSystems</p></td>
<td><p>TRUE</p></td>
<td><p>Powers</p></td>
<td><p>VoltagesMagAng</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Storages</p></td>
<td><p>FALSE</p></td>
<td><p>Powers</p></td>
<td><p>VoltagesMagAng</p></td>
<td><p>%stored</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Buses</p></td>
<td><p>FALSE</p></td>
<td><p>puVmagAngle</p></td>
<td><p>Distance</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Circuits</p></td>
<td><p>TRUE</p></td>
<td><p>TotalPower</p></td>
<td><p>LineLosses</p></td>
<td><p>Losses</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Lines</p></td>
<td><p>FALSE</p></td>
<td><p>CurrentsMagAng</p></td>
<td><p>normamps</p></td>
<td><p>bus1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Transformers</p></td>
<td><p>FALSE</p></td>
<td><p>CurrentsMagAng</p></td>
<td><p>normamps</p></td>
<td><p>bus</p></td>
<td><p>taps</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>First column of the table needs to be a element type in OpenDSS. The definations here are case sensitive so make sure the name convention for the classes follows case convertion in the OpenDSS help file.</p></li>
<li><p>The second header in the table should always be ‘Publish’. This booleam propoerty is used to filter variable that should be published when using the HELICS interface.</p></li>
<li><dl class="simple">
<dt>All other columns sould contain variable names that need to be exportred. PyDSS wraps around each OpenDSS elements and provides high hevel functions that can be used to extract any information pertaining to an element.</dt><dd><ul>
<li><p>For any element propoerty listed in <a class="reference external" href="http://dss-extensions.org/OpenDSSDirect.py/opendssdirect.html#module-opendssdirect.CktElement">http://dss-extensions.org/OpenDSSDirect.py/opendssdirect.html#module-opendssdirect.CktElement</a> use the exact function name to access that value. Make sure case matches.</p></li>
<li><p>For element spicific properties e.g ‘Tap’ in <a class="reference external" href="http://dss-extensions.org/OpenDSSDirect.py/opendssdirect.html#module-opendssdirect.Transformers">http://dss-extensions.org/OpenDSSDirect.py/opendssdirect.html#module-opendssdirect.Transformers</a> use lower case convertion. In this case it would be ‘tap’ as shown in the example above.</p></li>
<li><p>Any number of properties may be exported for a class by addeding additional columns</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">A example of export definations for ExportMode-byElement</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Publish</p></th>
<th class="head"><p>Property 1</p></th>
<th class="head"><p>Property 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Line.pvl_110</p></td>
<td><p>TRUE</p></td>
<td><p>Powers</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PVSystem.pvl_110</p></td>
<td><p>TRUE</p></td>
<td><p>Powers</p></td>
<td><p>kw</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><dl class="simple">
<dt>The first column this case should contain complete name of an element defined in OpenDSS model.</dt><dd><ul>
<li><p>Class name should follow convention defined for ‘ExportMode-byClass’ definations.</p></li>
<li><p>Element name should always be lower case.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>File format for the rest of the table follows the convention defined in for ‘ExportMode-byClass’ definations.</p></li>
</ul>
<p>For setting up sucscription when doing co-simulation via HELICS,</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Defining sucscriptions for the HELICS interface</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Property</p></th>
<th class="head"><p>Subscription ID</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Subscribe</p></th>
<th class="head"><p>Data type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Load.mpx000635970</p></td>
<td><p>kw</p></td>
<td><p>test.Pv1power</p></td>
<td><p>kW</p></td>
<td><p>TRUE</p></td>
<td><p>double</p></td>
</tr>
<tr class="row-odd"><td><p>Load.mpx000635971</p></td>
<td><p>kw</p></td>
<td><p>test.Pv2power</p></td>
<td><p>kW</p></td>
<td><p>TRUE</p></td>
<td><p>double</p></td>
</tr>
<tr class="row-even"><td><p>Load.mpx000635972</p></td>
<td><p>kw</p></td>
<td><p>test.Pv3power</p></td>
<td><p>kW</p></td>
<td><p>TRUE</p></td>
<td><p>double</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>The first colun should contain a list of element names defined in the OpenDSS model. Naming converion follows the ExportMode-byElement convertion.</p></li>
<li><p>The second columns defined the property of teh element tat will be updated. This should always be lower case.</p></li>
<li><p>The third column should contain subscription ID and the forth column should define units. Helics allows user to define units that ensure pyhsical values are not connected incorrectly e.g a power variable is not connected to a voltage variable. The federate publishing the IDs should also be defing the units. for more information visit <a class="reference external" href="https://helics.readthedocs.io/en/latest/introduction/index.html">https://helics.readthedocs.io/en/latest/introduction/index.html</a>.</p></li>
<li><p>The subscribe column is used to filter IDs that will be subscribed for a given scenario.</p></li>
<li><p>The final columns defines the expect data type for a given subscription. Possible values are [double, vector, string, boolean, integer]</p></li>
</ul>
<p>Once defined correctly, after a simulation run, results will be exported to the ‘Exports’ folder within the project. PyDSS will also intelligently time stamp the results along with assigning units to the exported results. A sample export output is shown below.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Exported feeder active and reactive power consumption</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>timestamp</p></th>
<th class="head"><p>frequency</p></th>
<th class="head"><p>Simulation mode</p></th>
<th class="head"><p>Circuit.epriJ1 ph:1 [kW]</p></th>
<th class="head"><p>Circuit.epriJ1 ph:1 [kvar]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1/1/2017 0:15</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.979306015</p></td>
<td><p>-0.758373919</p></td>
</tr>
<tr class="row-odd"><td><p>1/1/2017 0:30</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-4.222427378</p></td>
<td><p>-0.493243983</p></td>
</tr>
<tr class="row-even"><td><p>1/1/2017 0:45</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.032113971</p></td>
<td><p>-0.623377835</p></td>
</tr>
<tr class="row-odd"><td><p>1/1/2017 1:00</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.123221764</p></td>
<td><p>-0.638967114</p></td>
</tr>
<tr class="row-even"><td><p>1/1/2017 1:15</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.012706395</p></td>
<td><p>-0.621461249</p></td>
</tr>
<tr class="row-odd"><td><p>1/1/2017 1:30</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.003457528</p></td>
<td><p>-0.624658132</p></td>
</tr>
<tr class="row-even"><td><p>1/1/2017 1:45</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.30366444</p></td>
<td><p>-0.633309333</p></td>
</tr>
<tr class="row-odd"><td><p>1/1/2017 2:00</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.479844767</p></td>
<td><p>-0.618884725</p></td>
</tr>
<tr class="row-even"><td><p>1/1/2017 2:15</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.218094992</p></td>
<td><p>-0.628835596</p></td>
</tr>
<tr class="row-odd"><td><p>1/1/2017 2:30</p></td>
<td><p>60</p></td>
<td><p>Yearly</p></td>
<td><p>-5.068465011</p></td>
<td><p>-0.60757949</p></td>
</tr>
</tbody>
</table>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Dynamic visualization capabilities.html" class="btn btn-neutral float-right" title="Dynamic visualization capabilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Project management.html" class="btn btn-neutral float-left" title="Improved project management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Aadil Latif

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>